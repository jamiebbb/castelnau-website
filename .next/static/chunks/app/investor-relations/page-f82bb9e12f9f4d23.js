(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{981:function(e,t,r){Promise.resolve().then(r.bind(r,3255))},3255:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(3827),n=r(4090),a=r(6540),o=r(6288),c=r(9902);let i=async()=>{try{let{data:e,error:t}=await c.O.from("documents").select("*").order("publish_date",{ascending:!1});if(t)return console.error("Error fetching documents:",t),o.toast.error("Failed to fetch documents"),[];return(null==e?void 0:e.map(e=>({...e,category:e.category})))||[]}catch(e){return console.error("Error fetching documents:",e),o.toast.error("Failed to fetch documents"),[]}},l=async(e,t)=>{try{let{data:r,error:s}=await c.O.storage.from("documents").download(e);if(s)throw s;let n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),o.toast.success("Document download started")}catch(e){console.error("Error downloading document:",e),o.toast.error("Failed to download document")}};var d=r(6443),u=r(1205),m=()=>{let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,u.Ks)();t(e)}catch(e){console.error("Failed to fetch stock price:",e)}})()},[]),(0,s.jsxs)("div",{className:"mb-12",id:"share-price",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Key Financial Metrics"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Share Price"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-castelnau-green",children:e?"\xa3".concat(e.price):"\xa30.92"}),e&&(0,s.jsx)("p",{className:"text-sm ".concat((0,u.$o)(e.change,e.change_percent).colorClass),children:(0,u.$o)(e.change,e.change_percent).value}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Updated: ",e?(0,u.CK)(e.latest_trading_day):"10/03/2025"]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"NAV per Share"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-castelnau-green",children:"\xa31.01"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Updated: 28/02/2025"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Market Cap"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-castelnau-green",children:"\xa3186.2m"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Updated: 10/03/2025"})]})]})]})},h=r(575),g=r(6619),x=e=>{let{title:t,documents:r,id:n}=e,a=e=>{l(e.file_path,e.file_name)};return(0,s.jsxs)("div",{className:"mb-12",id:n,children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-6",children:t}),(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Published: ",e.publish_date," ",e.file_size&&"â€¢ ".concat(e.file_size)]})]}),(0,s.jsxs)(h.z,{onClick:()=>a(e),className:"px-4 py-2 bg-castelnau-green text-white rounded hover:bg-castelnau-darkgreen transition-colors text-sm flex items-center",children:[(0,s.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Download"]})]},e.id))})]})},f=r(7888);function p(){let{data:e=[],isLoading:t}=(0,a.a)({queryKey:["documents"],queryFn:i}),{scrollToElement:r}=(0,f.Z)({offset:120});(0,n.useEffect)(()=>{window.location.hash&&r(window.location.hash.substring(1))},[r]);let o=t=>e.filter(e=>e.category===t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{title:"Investor Relations",description:"Access financial information, regulatory documents, and stay updated with our latest news"}),(0,s.jsx)("section",{className:"py-20",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(m,{}),(0,s.jsx)(x,{documents:o("regulatory"),title:"Regulatory Documents",id:"regulatory-documents"}),(0,s.jsx)(x,{documents:o("factsheet"),title:"Factsheets",id:"factsheets"}),(0,s.jsx)(x,{documents:o("rns"),title:"RNS Announcements",id:"rns"})]})})})]})}},6443:function(e,t,r){"use strict";var s=r(3827);r(4090),t.Z=e=>{let{title:t,description:r}=e;return(0,s.jsxs)("section",{className:"relative page-hero",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/lovable-uploads/3503b171-9516-43a5-b44c-9af899c25e41.png')] bg-cover bg-center opacity-10"}),(0,s.jsxs)("div",{className:"container mx-auto px-4 relative z-10",children:[(0,s.jsx)("h1",{className:"page-title text-white",children:t}),(0,s.jsx)("div",{className:"h-1 bg-white w-48 md:w-72 mb-8"}),r&&(0,s.jsx)("p",{className:"text-white text-lg max-w-2xl mb-16",children:r})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 w-full",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 150",className:"w-full h-auto",preserveAspectRatio:"none",children:(0,s.jsx)("path",{fill:"#FFFFFF",fillOpacity:"1",d:"M0,96L80,85.3C160,75,320,53,480,64C640,75,800,117,960,122.7C1120,128,1280,96,1360,80L1440,64L1440,150L1360,150C1280,150,1120,150,960,150C800,150,640,150,480,150C320,150,160,150,80,150L0,150Z"})})})]})}},575:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(3827),n=r(4090),a=r(9143),o=r(9769),c=r(2169);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",transparent:"bg-transparent hover:bg-transparent",gold:"bg-castelnau-gold text-castelnau-dark-green shadow-sm hover:bg-castelnau-gold/90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,s.jsx)(u,{className:(0,c.cn)(i({variant:n,size:o,className:r})),ref:t,...d})});l.displayName="Button"},7888:function(e,t,r){"use strict";var s=r(4090),n=r(7907);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.usePathname)(),r=(0,n.useSearchParams)(),a=(0,s.useRef)(null),{offset:o=120,behavior:c="smooth",delay:i=300}=e;return(0,s.useEffect)(()=>{let e=window.location.hash;if(e){let t=e.substring(1);a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{let e=document.getElementById(t);if(e){let t=e.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:t-o,behavior:c})}a.current=null},i)}return()=>{a.current&&clearTimeout(a.current)}},[t,r,o,c,i]),{scrollToElement:e=>{let t=document.getElementById(e);if(t){window.history.pushState(null,"","#".concat(e));let r=t.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:r-o,behavior:c})}},refreshScroll:()=>{let e=window.location.hash;if(e){let t=e.substring(1),r=document.getElementById(t);if(r){let e="".concat(t,"-temp");window.history.pushState(null,"","#".concat(e)),document.body.offsetHeight,window.history.pushState(null,"","#".concat(t));let s=r.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:s-o,behavior:"auto"})}}}}}},9902:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});let s=(0,r(9377).eI)("https://eoglqmqsjfbhrmtfdfrq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVvZ2xxbXFzamZiaHJtdGZkZnJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3OTEyMzEsImV4cCI6MjA1NzM2NzIzMX0.HvAglbDnClCpF5qRnkdgyaDT1qAEms1ZPAfCEHMRWO8")},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(3167),n=r(1367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},1205:function(e,t,r){"use strict";r.d(t,{$o:function(){return c},CK:function(){return i},Ks:function(){return a}});var s=r(9902),n=r(6288);let a=async()=>{try{let{data:e,error:t}=await s.O.from("stock_prices").select("*").order("updated_at",{ascending:!1}).limit(1);if(t)throw console.error("Error fetching stock price:",t),t;if(e&&e.length>0)return e[0];return await o()}catch(e){return console.error("Error in fetchLatestStockPrice:",e),n.toast.error("Failed to fetch stock price data"),null}},o=async()=>{try{let{data:e,error:t}=await s.O.functions.invoke("update-stock-price");if(t)return console.error("Error updating stock price:",t),n.toast.error("Failed to update stock price"),null;if(e&&e.success&&e.data)return n.toast.success("Stock price updated successfully"),e.data;return null}catch(e){return console.error("Error triggering stock price update:",e),n.toast.error("Failed to update stock price"),null}},c=(e,t)=>{let r=parseFloat(e),s="text-gray-500";return r>0?(s="text-green-600",{value:"+".concat(e," (+").concat(t,"%)"),colorClass:s}):(r<0&&(s="text-red-600"),{value:"".concat(e," (").concat(t,"%)"),colorClass:s})},i=e=>new Date(e).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"})}},function(e){e.O(0,[806,970,421,971,69,744],function(){return e(e.s=981)}),_N_E=e.O()}]);